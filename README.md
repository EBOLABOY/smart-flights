# Smart Flights ğŸ›«

ä¸€ä¸ªå¼ºå¤§çš„ Python åº“ï¼Œæä¾›å¯¹ Google Flights æ•°æ®çš„ç¼–ç¨‹è®¿é—®ï¼Œé…å¤‡ä¼˜é›…çš„å‘½ä»¤è¡Œç•Œé¢ã€‚è½»æ¾æœç´¢èˆªç­ã€å¯»æ‰¾æœ€ä¼˜æƒ ä»·æ ¼å¹¶ç­›é€‰ç»“æœã€‚

> ğŸš€ **Smart Flights çš„ç‰¹åˆ«ä¹‹å¤„**
> ä¸å…¶ä»–ä¾èµ–ç½‘é¡µæŠ“å–çš„èˆªç­æœç´¢åº“ä¸åŒï¼ŒSmart Flights é€šè¿‡é€†å‘å·¥ç¨‹ç›´æ¥ä¸ Google Flights API äº¤äº’ã€‚
> è¿™æ„å‘³ç€ï¼š
> - **å¿«é€Ÿ**ï¼šç›´æ¥ API è®¿é—®æ„å‘³ç€æ›´å¿«ã€æ›´å¯é çš„ç»“æœ
> - **é›¶æŠ“å–**ï¼šæ— éœ€ HTML è§£æï¼Œæ— éœ€æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œçº¯ API äº¤äº’
> - **å¯é **ï¼šä¸æ˜“å›  UI å˜åŒ–è€Œä¸­æ–­
> - **æ¨¡å—åŒ–**ï¼šå¯æ‰©å±•æ¶æ„ï¼Œä¾¿äºè‡ªå®šä¹‰å’Œé›†æˆ
> - **æ™ºèƒ½å¢å¼º**ï¼šåœ¨åŸæœ‰åŠŸèƒ½åŸºç¡€ä¸Šå¢åŠ äº†ä¸­è‹±æ–‡åŒè¯­æ”¯æŒã€æœºåœºæœç´¢ç­‰æ™ºèƒ½åŠŸèƒ½

## ğŸ“œ è‡´è°¢ä¸æ¥æº

æœ¬é¡¹ç›®åŸºäºä¼˜ç§€çš„å¼€å‘æºé¡¹ç›® [**Fli**](https://github.com/punitarani/fli) è¿›è¡Œæ”¹ç¼–å’Œå¢å¼ºã€‚

**åŸå§‹é¡¹ç›®**ï¼š
- **é¡¹ç›®åç§°**ï¼šFli
- **åŸä½œè€…**ï¼š[punitarani](https://github.com/punitarani)
- **åŸå§‹ä»“åº“**ï¼šhttps://github.com/punitarani/fli
- **è®¸å¯è¯è¯**ï¼šMIT License

**Smart Flights çš„å¢å¼ºåŠŸèƒ½**ï¼š
- ğŸŒ **ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ** - å®Œæ•´çš„æœ¬åœ°åŒ–ç•Œé¢å’Œæ•°æ®
- ğŸ¢ **æœºåœºæœç´¢ API** - æ™ºèƒ½æœºåœºæŸ¥è¯¢å’Œæœç´¢åŠŸèƒ½
- ğŸ¯ **éšè—åŸå¸‚èˆªç­æ®µæœç´¢** - é›†æˆ Kiwi.com APIï¼Œå‘ç°éšè—åŸå¸‚æœºç¥¨ä¼˜æƒ 
- ğŸ“š **å®Œæ•´æ–‡æ¡£** - è¯¦ç»†çš„ API å‚è€ƒè€ƒå’Œä½¿ç”¨æŒ‡å—
- ğŸ¯ **ä¼˜åŒ–ä½“éªŒ** - æ›´å¥½çš„ CLI ç•Œé¢å’Œé”™è¯¯å¤„ç†
- ğŸ“¦ **åŒ…åä¼˜åŒ–** - æ›´ç›´è§‚çš„ `smart-flights` åŒ…å

æˆ‘ä»¬æ„Ÿè°¢åŸä½œè€… punitarani çš„æ°å‡ºå·¥ä½œï¼Œä¸ºèˆªç­æ®µæœç´¢é¢†åŸŸæä¾›äº†å¦‚æ­¤ä¼˜ç§€çš„åŸºç¡€æ¡†æ¶ã€‚æœ¬é¡¹ç›®åœ¨éµå¾ª MIT è®¸å¯è¯è¯çš„å‰æä¸‹ï¼Œè‡´åŠ›äºä¸ºä¸­æ–‡ç”¨æˆ·å’Œå›½é™…ç”¨æˆ·æä¾›æ›´å¥½çš„ä½¿ç”¨ä½“éªŒã€‚

![CLI æ¼”ç¤º](https://github.com/punitarani/fli/blob/main/data/cli-demo.png)

## ğŸ“– ç›®å½•

- [ğŸš€ å¿«é€Ÿå¼€å§‹å‘å§‹](#å¿«é€Ÿå¼€å§‹å‘å§‹)
- [ğŸ¯ åŠŸèƒ½ç‰¹æ€§æ€§](#åŠŸèƒ½ç‰¹æ€§æ€§)
- [ğŸ–¥ï¸ CLI ä½¿ç”¨æ–¹æ³•ï¼š](#cli-ä½¿ç”¨æ–¹æ³•ï¼š)
- [ğŸ–¥ï¸ å®Œæ•´ CLI å‘½ä»¤å‚è€ƒè€ƒè€ƒ](#å®Œæ•´-cli-å‘½ä»¤å‚è€ƒè€ƒ
- [ğŸ¯ éšè—åŸå¸‚èˆªç­æ®µæœç´¢](#éšè—åŸå¸‚èˆªç­æ®µæœç´¢)
- [ğŸ Python API è¯¦ç»†ä½¿ç”¨æ–¹æ³•ï¼š](#python-api-è¯¦ç»†ä½¿ç”¨æ–¹æ³•ï¼š)
- [ğŸ“š å®Œæ•´ API å‚è€ƒè€ƒ](#-å®Œæ•´-api-å‚è€ƒè€ƒ
- [âœˆï¸ æ”¯æŒçš„æœºåœºå’Œèˆªç©ºå…¬å¸](#æ”¯æŒçš„æœºåœºå’Œèˆªç©ºå…¬å¸)
- [ğŸ› ï¸ å¼€å‘å‘å‘](#å¼€å‘

## ğŸš€ å¿«é€Ÿå¼€å§‹å‘

```bash
pip install smart-flights
```

```bash
# ä½¿ç”¨ pipx å®‰è£…ï¼ˆæ¨èç”¨CLI
pipx install smart-flights

# å¼€å‘å§‹ä½¿CLI
fli --help
```

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å¼ºå¤§æœç´¢**
    - å•ç¨‹èˆªç­æ®µæœç´¢
    - å¾€è¿”èˆªç­æ®µæœç´¢
    - **åŸºç¡€æœç´¢æ¨¡å¼** (12ä¸ªèˆªç­æ®µç­ï¼Œå¿«é€Ÿå“
    - **æ‰©å±•æœç´¢æ¨¡å¼** (135+ä¸ªèˆªç­æ®µç­ï¼Œ1025%æå‡) ğŸš€
    - çµæ´»çš„å‡ºå‘æ—¶
    - å¤šèˆªç©ºå…¬å¸æ”¯
    - èˆ±ä½ç­‰çº§é€‰æ‹©
    - ä¸­è½¬åå¥½è®¾ç½®
    - è‡ªå®šä¹‰ç»“æœæ’
    - **éšè—åŸå¸‚èˆªç­æ®µæœç´¢** ğŸ¯

- ğŸ’º **èˆ±ä½ç­‰çº§**
    - ç»æµ
    - è¶…çº§ç»æµ
    - å•†åŠ¡
    - å¤´ç­‰

- ğŸ¯ **æ™ºèƒ½æ’åº**
    - ä»·æ ¼
    - é£è¡Œæ—¶é•¿
    - å‡ºå‘æ—¶é—´
    - åˆ°è¾¾æ—¶é—´

- ğŸ›¡**å†…ç½®ä¿æŠ¤**
    - é€Ÿç‡é™åˆ¶
    - è‡ªåŠ¨é‡è¯•
    - å…¨é¢é”™è¯¯å¤„ç†
    - è¾“å…¥éªŒè¯

- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**
    - ä¸­è‹±æ–‡åŒè¯­ç•Œ
    - æœºåœºåç§°æœ¬åœ°
    - èˆªç©ºå…¬å¸åç§°ç¿»è¯‘
    - æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡æœ

## CLI ä½¿ç”¨æ–¹æ³•ï¼š

### æœç´¢ç‰¹å®šèˆªç­æ®µ

```bash
# åŸºç¡€æœç´¢
fli search JFK LHR 2025-10-25

# é«˜çº§æœç´¢ï¼ˆå¸¦ç­›é€‰æ¡ä»¶ï¼‰
fli search JFK LHR 2025-10-25 \
    -t 6-20 \              # æ—¶é—´èŒƒå›´ï¼ˆä¸Šåˆ6ç‚¹ - æ™šä¸Š8ç‚¹ï¼‰
    -a BA KL \             # èˆªç©ºå…¬å¸ï¼ˆè‹±å›½èˆªç©ºã€è·å…°çš‡å®¶èˆªç©ºï¼‰
    -s BUSINESS \          # èˆ±ä½ç±»å‹
    -x NON_STOP \          # ä»…ç›´é£èˆªç­æ®µ
    -o DURATION            # æŒ‰é£è¡Œæ—¶é•¿æ’åº

# ä¸­æ–‡æœç´¢ç¤ºä¾‹å€¼
fli search PEK LAX 2025-10-25 \
    --language zh-cn \     # ä¸­æ–‡ç•Œé¢
    --currency CNY         # äººæ°‘å¸ä»·
```

### æŸ¥æ‰¾æœ€ä¾¿å®œæ—¥æœŸ

```bash
# åŸºç¡€æœ€ä¾¿å®œæ—¥æœŸæœç´¢
fli cheap JFK LHR

# é«˜çº§æœç´¢ï¼ˆæŒ‡å®šæ—¥æœŸèŒƒå›´ï¼‰
fli cheap JFK LHR \
    --from 2025-01-01 \
    --to 2025-02-01 \
    --monday --friday      # ä»…å‘¨ä¸€å’Œå‘¨
```

### æœºåœºæœç´¢

```bash
# æœç´¢æœºåœº
fli airport-search "åŒ—äº¬"
fli airport-search "london" --language zh-cn
fli airport-search "PEK"

# æŒ‰å›½å®¶æœç´¢
fli airport-search "ä¸­å›½" --country --language zh-cn
```

## ğŸ–¥ï¸ å®Œæ•´ CLI å‘½ä»¤å‚è€ƒè€ƒ

### `fli search` - èˆªç­æ®µæœç´¢å‘½ä»¤

**åŸºæœ¬è¯­æ³•ï¼š*
```bash
fli search <å‡ºå‘æœºåœº> <åˆ°è¾¾æœºåœº> <å‡ºå‘æ—¥æœŸ> [é€‰é¡¹]
```

**å¿…éœ€å‚è€ƒæ•°*
- `<å‡ºå‘æœºåœº>` - å‡ºå‘æœºåœºIATAä»£ç  (å¦‚: JFK, PEK)
- `<åˆ°è¾¾æœºåœº>` - åˆ°è¾¾æœºåœºIATAä»£ç  (å¦‚: LHR, LAX)
- `<å‡ºå‘æ—¥æœŸ>` - å‡ºå‘æ—¥æœŸï¼Œæ ¼å¼: YYYY-MM-DD

**å¯é€‰å‚è€ƒæ•°ï¼š**

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° | ç¤ºä¾‹å€¼| é»˜è®¤å€¼|
|------|--------|------|--------|--------|
| `-r` | `--return` | è¿”ç¨‹æ—¥æœŸ (å¾€è¿”ç¥¨) | `2025-06-15` | æ—  (å•ç¨‹) |
| `-t` | `--time` | æ—¶é—´èŒƒå›´ (24å°æ—¶åˆ¶) | `6-20`, `8-18` | æ— é™åˆ¶|
| `-a` | `--airlines` | æŒ‡å®šèˆªç©ºå…¬å¸ | `BA KL CA`, `AA UA` | æ‰€æœ‰èˆªç©ºå…¬å¸|
| `-c` | `--class` | èˆ±ä½ç±»å‹ | `ECONOMY`, `BUSINESS`, `FIRST` | `ECONOMY` |
| `-s` | `--stops` | æœ€å¤§ä¸­è½¬æ¬¡æ•°| `ANY`, `0`, `1`, `2` | `ANY` |
| `-o` | `--sort` | æ’åºæ–¹å¼ | `CHEAPEST`, `DURATION`, `DEPARTURE_TIME` | `CHEAPEST` |
| `-l` | `--language` | ç•Œé¢è¯­è¨€ | `en`, `zh-cn` | `en` |
| `-cur` | `--currency` | ä»·æ ¼è´§å¸ | `USD`, `CNY` | `USD` |

**ç¤ºä¾‹å€¼*
```bash
# åŸºç¡€æœç´¢
fli search JFK LHR 2025-06-01

# å¾€è¿”ç¥¨æœç´¢
fli search PEK LAX 2025-06-01 --return 2025-06-15

# é«˜çº§æœç´¢
fli search JFK LHR 2025-06-01 \
    --time 8-20 \
    --airlines BA AA \
    --class BUSINESS \
    --stops 0 \
    --sort DURATION \
    --language zh-cn \
    --currency CNY
```

### `fli cheap` - æœ€ä¾¿å®œæ—¥æœŸæœç´¢

**åŸºæœ¬è¯­æ³•ï¼š*
```bash
fli cheap <å‡ºå‘æœºåœº> <åˆ°è¾¾æœºåœº> [é€‰é¡¹]
```

**å¿…éœ€å‚è€ƒæ•°*
- `<å‡ºå‘æœºåœº>` - å‡ºå‘æœºåœºIATAä»£ç 
- `<åˆ°è¾¾æœºåœº>` - åˆ°è¾¾æœºåœºIATAä»£ç 

**å¯é€‰å‚è€ƒæ•°ï¼š**

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° | ç¤ºä¾‹å€¼| é»˜è®¤å€¼|
|------|--------|------|--------|--------|
| | `--from` | æœç´¢å¼€å‘å§‹æ—¥| `2025-06-01` | æ˜å¤© |
| | `--to` | æœç´¢ç»“æŸæ—¥æœŸ | `2025-06-30` | 60å¤©å |
| `-d` | `--duration` | è¡Œç¨‹å¤©æ•° | `3`, `7`, `14` | `3` |
| `-a` | `--airlines` | æŒ‡å®šèˆªç©ºå…¬å¸ | `BA KL CA` | æ‰€æœ‰èˆªç©ºå…¬å¸|
| `-R` | `--round` | å¾€è¿”ç¥¨æœç´¢ | æ— (æ ‡å¿—) | å•ç¨‹ |
| `-s` | `--stops` | æœ€å¤§ä¸­è½¬æ¬¡æ•°| `ANY`, `0`, `1`, `2` | `ANY` |
| `-c` | `--class` | èˆ±ä½ç±»å‹ | `ECONOMY`, `BUSINESS` | `ECONOMY` |
| | `--sort` | æŒ‰ä»·æ ¼æ’| æ— (æ ‡å¿—) | æŒ‰æ—¥æœŸæ’|
| `-l` | `--language` | ç•Œé¢è¯­è¨€ | `en`, `zh-cn` | `en` |
| `-cur` | `--currency` | ä»·æ ¼è´§å¸ | `USD`, `CNY` | `USD` |

**æ—¥æœŸç­›é€‰é€‰é¡¹*
| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° |
|------|--------|------|
| `-mon` | `--monday` | ä»…åŒ…å«å‘¨ä¸€ |
| `-tue` | `--tuesday` | ä»…åŒ…å«å‘¨|
| `-wed` | `--wednesday` | ä»…åŒ…å«å‘¨|
| `-thu` | `--thursday` | ä»…åŒ…å«å‘¨|
| `-fri` | `--friday` | ä»…åŒ…å«å‘¨|
| `-sat` | `--saturday` | ä»…åŒ…å«å‘¨|
| `-sun` | `--sunday` | ä»…åŒ…å«å‘¨|

**ç¤ºä¾‹å€¼*
```bash
# åŸºç¡€æœ€ä¾¿å®œæ—¥æœŸæœç´¢
fli cheap JFK LHR

# æŒ‡å®šæ—¥æœŸèŒƒå›´
fli cheap PEK LAX --from 2025-06-01 --to 2025-06-30

# å¾€è¿”ç¥¨ + å·¥ä½œæ—¥ç­›
fli cheap JFK LHR --round --monday --tuesday --wednesday --thursday --friday

# é«˜çº§æœç´¢
fli cheap PEK LAX \
    --from 2025-06-01 \
    --to 2025-06-30 \
    --duration 7 \
    --class BUSINESS \
    --stops 0 \
    --friday --saturday \
    --language zh-cn \
    --currency CNY
```

### `fli airport-search` - æœºåœºæœç´¢å‘½ä»¤

**åŸºæœ¬è¯­æ³•ï¼š*
```bash
fli airport-search <æœç´¢æŸ¥è¯¢> [é€‰é¡¹]
```

**å¿…éœ€å‚è€ƒæ•°*
- `<æœç´¢æŸ¥è¯¢>` - æœºåœºåç§°ã€åŸå¸‚ã€å›½å®¶æˆ–æœºåœºä»£ç 

**å¯é€‰å‚è€ƒæ•°ï¼š**

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° | ç¤ºä¾‹å€¼| é»˜è®¤å€¼|
|------|--------|------|--------|--------|
| `-l` | `--language` | ç»“æœè¯­è¨€ | `en`, `zh-cn` | `en` |
| `-n` | `--limit` | æœ€å¤§ç»“æœæ•° | `5`, `20` | `10` |
| | `--city` | æŒ‰åŸå¸‚æœç´¢| æ— (æ ‡å¿—) | ç»¼åˆæœç´¢ |
| | `--country` | æŒ‰å›½å®¶æœç´¢| æ— (æ ‡å¿—) | ç»¼åˆæœç´¢ |

**ç¤ºä¾‹å€¼*
```bash
# åŸºç¡€æœç´¢
fli airport-search "london"
fli airport-search "åŒ—äº¬"
fli airport-search "LHR"

# æŒ‰åŸå¸‚æœç´¢
fli airport-search "tokyo" --city --language zh-cn

# æŒ‰å›½å®¶æœç´¢
fli airport-search "china" --country --language zh-cn --limit 20

# ä¸­æ–‡æœç´¢
fli airport-search "ä¸Šæµ·" --language zh-cn
```

### `fli airport-info` - æœºåœºè¯¦ç»†ä¿¡æ¯

**åŸºæœ¬è¯­æ³•ï¼š*
```bash
fli airport-info <æœºåœºä»£ç > [é€‰é¡¹]
```

**å¿…éœ€å‚è€ƒæ•°*
- `<æœºåœºä»£ç >` - ä¸‰å­—æ¯IATAæœºåœºä»£ç 

**å¯é€‰å‚è€ƒæ•°ï¼š**

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° | ç¤ºä¾‹å€¼| é»˜è®¤å€¼|
|------|--------|------|--------|--------|
| `-l` | `--language` | ä¿¡æ¯è¯­è¨€ | `en`, `zh-cn` | `en` |

**ç¤ºä¾‹å€¼*
```bash
# è·å–æœºåœºè¯¦ç»†ä¿¡æ¯
fli airport-info LHR
fli airport-info PEK --language zh-cn
fli airport-info JFK --language en
```

### ğŸ¯ å¸¸ç”¨å‘½ä»¤ç»„åˆç¤ºä¾‹å€¼

#### å•†åŠ¡èˆ±å‡ºè¡Œæœç´¢
```bash
# åŒ—äº¬åˆ°çº½çº¦ï¼Œå•†åŠ¡èˆ±ï¼Œç›´é£
fli search PEK JFK 2025-06-01 \
    --class BUSINESS \
    --stops 0 \
    --sort DEPARTURE_TIME \
    --language zh-cn \
    --currency CNY
```

#### åº¦å‡å‡ºè¡Œè§„åˆ’
```bash
# å¯»æ‰¾æœ€ä¾¿å®œçš„å‘¨æœ«å‡ºè¡Œæ—¥
fli cheap LAX NRT \
    --from 2025-06-01 \
    --to 2025-08-31 \
    --round \
    --duration 7 \
    --friday --saturday \
    --class ECONOMY
```

#### å¤šèˆªç©ºå…¬å¸æ¯”
```bash
# æ¯”è¾ƒå¤šä¸ªèˆªç©ºå…¬å¸ä»·æ ¼
fli search JFK LHR 2025-06-01 \
    --airlines BA AA UA \
    --sort CHEAPEST \
    --time 8-20
```

#### çµæ´»æ—¶é—´æœç´¢
```bash
# å¯»æ‰¾ä¸€å‘¨å†…æœ€ä¾¿å®œçš„æ—¥
fli cheap SFO NRT \
    --from 2025-06-01 \
    --to 2025-06-07 \
    --class PREMIUM_ECONOMY \
    --sort
```

### CLI é€‰é¡¹

#### æœç´¢å‘½ä»¤ (`fli search`)

| é€‰é¡¹             | æè¿°                    | ç¤ºä¾‹å€¼                   |
|------------------|-------------------------|------------------------|
| `-t, --time`     | æ—¶é—´èŒƒå›´4å°æ—¶åˆ¶ï¼‰    | `6-20`                 |
| `-a, --airlines` | èˆªç©ºå…¬å¸ä»£ç             | `BA KL`                |
| `-s, --seat`     | èˆ±ä½ç­‰çº§                | `ECONOMY`, `BUSINESS`  |
| `-x, --stops`    | æœ€å¤§ä¸­è½¬æ¬¡æ•°           | `NON_STOP`, `ONE_STOP` |
| `-o, --sort`     | ç»“æœæ’åºæ–¹å¼            | `CHEAPEST`, `DURATION` |
| `-l, --language` | ç•Œé¢è¯­è¨€                | `en`, `zh-cn`          |
| `--currency`     | ä»·æ ¼è´§å¸                | `USD`, `CNY`           |

#### ä¾¿å®œèˆªç­æ®µå‘½ä»¤ (`fli cheap`)

| é€‰é¡¹          | æè¿°         | ç¤ºä¾‹å€¼                   |
|---------------|--------------|------------------------|
| `--from`      | å¼€å‘å§‹æ—¥    | `2025-01-01`           |
| `--to`        | ç»“æŸæ—¥æœŸ     | `2025-02-01`           |
| `-s, --seat`  | èˆ±ä½ç­‰çº§     | `ECONOMY`, `BUSINESS`  |
| `-x, --stops` | æœ€å¤§ä¸­è½¬æ¬¡æ•°| `NON_STOP`, `ONE_STOP` |
| `--[day]`     | æ—¥æœŸç­›    | `--monday`, `--friday` |

#### æœºåœºæœç´¢å‘½ä»¤ (`fli airport-search`)

| é€‰é¡¹             | æè¿°                    | ç¤ºä¾‹å€¼                   |
|------------------|-------------------------|------------------------|
| `-l, --language` | æœç´¢ç»“æœè¯­è¨€            | `en`, `zh-cn`          |
| `-n, --limit`    | æœ€å¤§ç»“æœæ•°           | `10`                   |
| `--city`         | æŒ‰åŸå¸‚æœç´¢             | `--city`               |
| `--country`      | æŒ‰å›½å®¶æœç´¢             | `--country`            |

## ğŸ¯ KiwiFlightsAPI - å¼ºå¤§çš„èˆªç­æœç´¢å¼•æ“

Smart Flights é›†æˆäº† Kiwi.com APIï¼Œæä¾›å¼ºå¤§çš„èˆªç­æœç´¢åŠŸèƒ½ï¼Œæ”¯æŒæ™®é€šèˆªç­å’Œéšè—åŸå¸‚èˆªç­æœç´¢ã€‚KiwiFlightsAPI æ˜¯æœ€åº•å±‚ã€æœ€çµæ´»çš„æœç´¢æ¥å£ï¼Œæ”¯æŒä¸åŒèˆ±ä½ã€å¤šä¹˜å®¢æœç´¢ã€‚

### ğŸ›« KiwiFlightsAPI æ ¸å¿ƒåŠŸèƒ½

âœ… **èˆ±ä½æ”¯æŒ**ï¼šECONOMYã€BUSINESSã€FIRST_CLASS
âœ… **ä¹˜å®¢æ•°æ”¯æŒ**ï¼š1-9ä½æˆäººï¼ˆè‡ªåŠ¨é…ç½®è¡Œæï¼‰
âœ… **ä»·æ ¼è®¡ç®—**ï¼šAPIè‡ªåŠ¨è®¡ç®—å¤šä¹˜å®¢æ€»ä»·
âœ… **èˆªç­ç±»å‹**ï¼šæ™®é€šèˆªç­ + éšè—åŸå¸‚èˆªç­æ··åˆæœç´¢
âœ… **æœç´¢æ¨¡å¼**ï¼šå•ç¨‹å’Œå¾€è¿”èˆªç­æœç´¢

### ğŸš€ åŸºç¡€ä½¿ç”¨æ–¹æ³•

#### 1. å•ç¨‹èˆªç­æœç´¢

```python
import asyncio
from fli.api.kiwi_flights import KiwiFlightsAPI
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®ç½®
localization_config = LocalizationConfig(
    language=Language.CHINESE,
    currency=Currency.CNY
)

# åˆ›å»ºAPIå®¢æˆ·ç«¯
api = KiwiFlightsAPI(localization_config)

async def search_flights():
    # å•ç¨‹èˆªç­æ®µæœç´¢
    result = await api.search_oneway_hidden_city(
        origin="LHR",                    # ä¼¦æ•¦å¸Œæ€ç½—
        destination="PEK",               # åŒ—äº¬é¦–éƒ½
        departure_date="2025-07-31",     # å‡ºå‘æ—¥æœŸ
        adults=1,                        # æˆäººä¹˜å®¢
        cabin_class="ECONOMY",           # èˆ±ä½ç­‰çº§
        hidden_city_only=False,          # False=æ‰€æœ‰èˆªç­æ®µï¼ŒTrue=éšè—åŸå¸‚ä¼˜å…ˆ
        limit=10                         # è¿”å›èˆªç­æ®µæ•°é‡
    )

    if result.get("success"):
        flights = result.get("flights", [])
        print(f"âœ… æ‰¾åˆ° {len(flights)} ä¸ªèˆªç­")

        for i, flight in enumerate(flights[:3], 1):
            price = float(flight.get("price", 0))
            currency = flight.get("currency_symbol", "Â¥")
            carrier = flight.get("carrier_name", "æœªçŸ¥")
            is_hidden = flight.get("is_hidden_city", False)

            print(f"\nèˆªç­ {i}: {carrier}")
            print(f"  ğŸ’° ä»·æ ¼: {currency}{price:.0f}")
            print(f"  ğŸ™ï¸ éšè—åŸå¸‚: {'æ˜¯' if is_hidden else 'å¦'}")
            print(f"  âœˆï¸  {flight.get('departure_airport')} â†’ {flight.get('arrival_airport')}")

# è¿è¡Œæœç´¢
asyncio.run(search_flights())
```

#### 2. å¾€è¿”èˆªç­æ®µæœç´¢

```python
async def search_roundtrip():
    # å¾€è¿”èˆªç­æ®µæœç´¢
    result = await api.search_roundtrip_hidden_city(
        origin="JFK",                    # çº½çº¦è‚¯å°¼
        destination="CDG",               # å·´é»æˆ´é«˜
        departure_date="2025-07-31",     # å‡ºå‘æ—¥æœŸ
        return_date="2025-08-07",        # è¿”å›æ—¥æœŸ
        adults=2,                        # 2ä½æˆäºº
        cabin_class="BUSINESS",          # å•†åŠ¡èˆ±
        hidden_city_only=False           # æœç´¢æ‰€æœ‰ç±»å‹å‹èˆª
    )

    if result.get("success"):
        flights = result.get("flights", [])
        print(f"æ‰¾åˆ° {len(flights)} ä¸ªå¾€è¿”èˆª)

        for i, flight in enumerate(flights[:2], 1):
            price = float(flight.get("price", 0))
            currency = flight.get("currency_symbol", "$")

            print(f"\nå¾€è¿”èˆªç­æ®µ {i}:")
            print(f"  ğŸ’° æ€»ä»·: {currency}{price:.0f} (2äºº)")
            print(f"  ğŸ›« å»ç¨‹: {flight.get('outbound', {}).get('departure_airport')} â†’ {flight.get('outbound', {}).get('arrival_airport')}")
            print(f"  ğŸ›¬ è¿”ç¨‹: {flight.get('inbound', {}).get('departure_airport')} â†’ {flight.get('inbound', {}).get('arrival_airport')}")

asyncio.run(search_roundtrip())
```

### ğŸ¯ ä¸åŒèˆ±ä½æœç´¢

```python
async def search_different_cabins():
    """æµ‹è¯•ä¸åŒèˆ±ä½çš„æœ""

    cabins = [
        ("ECONOMY", "ç»æµ),
        ("BUSINESS", "å•†åŠ¡),
        ("FIRST_CLASS", "å¤´ç­‰)  # æ³¨æ„ï¼šæ˜¯FIRST_CLASSä¸æ˜¯FIRST
    ]

    for cabin_code, cabin_name in cabins:
        print(f"\nğŸ›« æœç´¢{cabin_name} ({cabin_code})")

        result = await api.search_oneway_hidden_city(
            origin="LHR",
            destination="PEK",
            departure_date="2025-07-31",
            adults=1,
            cabin_class=cabin_code,
            limit=3
        )

        if result.get("success"):
            flights = result.get("flights", [])
            if flights:
                price = float(flights[0].get("price", 0))
                currency = flights[0].get("currency_symbol", "Â¥")
                print(f"  æ‰¾åˆ° {len(flights)} ä¸ªèˆªç­æ®µï¼Œèµ·ä»·: {currency}{price:.0f}")
            else:
                print(f"  æ²¡æœ‰æ‰¾åˆ°{cabin_name}èˆªç­æ®µ")

asyncio.run(search_different_cabins())
```

### ğŸ‘¥ å¤šä¹˜å®¢æœç´¢

```python
async def search_multiple_passengers():
    """æµ‹è¯•ä¸åŒä¹˜å®¢æ•°é‡çš„æœ""

    passenger_counts = [1, 2, 3, 4]

    for adults in passenger_counts:
        print(f"\nğŸ‘¥ æœç´¢ {adults}ä½æˆ)

        result = await api.search_oneway_hidden_city(
            origin="JFK",
            destination="LAX",
            departure_date="2025-07-31",
            adults=adults,
            cabin_class="ECONOMY",
            limit=2
        )

        if result.get("success"):
            flights = result.get("flights", [])
            if flights:
                # APIè¿”å›çš„æ˜¯æ€»ä»·æ ¼ï¼ˆå·²åŒ…å«æ‰€æœ‰ä¹˜å®¢ï¼‰
                total_price = float(flights[0].get("price", 0))
                currency = flights[0].get("currency_symbol", "$")
                single_price = total_price / adults

                print(f"  æ‰¾åˆ° {len(flights)} ä¸ªèˆª)
                print(f"  ğŸ’° å•äººä»·æ ¼: {currency}{single_price:.0f}")
                print(f"  ğŸ’° {adults}äººæ€»ä»·: {currency}{total_price:.0f}")

asyncio.run(search_multiple_passengers())
```

### ğŸ”§ é«˜çº§æœç´¢é€‰é¡¹

```python
async def advanced_search():
    """é«˜çº§æœç´¢ç¤ºä¾‹å€¼"""

    result = await api.search_oneway_hidden_city(
        origin="SIN",                    # æ–°åŠ 
        destination="SYD",               # æ‚‰å°¼
        departure_date="2025-07-31",
        adults=2,                        # 2ä½æˆäºº
        cabin_class="BUSINESS",          # å•†åŠ¡èˆ±
        limit=20,                        # æ›´å¤šç»“æœ
        enable_pagination=True,          # å¯ç”¨åˆ†é¡µ
        max_pages=3,                     # æœ€å¤š3é¡µ
        hidden_city_only=False           # æœç´¢æ‰€æœ‰ç±»å‹
    )

    if result.get("success"):
        flights = result.get("flights", [])
        hidden_count = sum(1 for f in flights if f.get("is_hidden_city", False))
        regular_count = len(flights) - hidden_count

        print(f"âœ… é«˜çº§æœç´¢ç»“æœ:")
        print(f"  ğŸ“Š æ€»èˆªç­æ®µæ•°: {len(flights)}")
        print(f"  ğŸ™ï¸ éšè—åŸå¸‚èˆªç­æ®µ: {hidden_count}")
        print(f"  âœˆï¸  æ™®é€šèˆªç­æ®µ: {regular_count}")
        print(f"  ğŸ“„ åˆ†é¡µä¿¡æ¯: {result.get('total_count', 0)} æ€»æ•°")

asyncio.run(advanced_search())
```

### ğŸ’¡ æœ€ä½³å®

#### 1. è·å–æ‰€æœ‰ç±»å‹èˆªç­æ®µï¼ˆæ¨è
```python
# æ¨èè®¾ç½®ï¼šè¿”å›æ™®é€šèˆªéšè—åŸå¸‚èˆªç­æ®µ
result = await api.search_oneway_hidden_city(
    origin="LHR", destination="PEK", departure_date="2025-07-31",
    hidden_city_only=False  # ğŸ”‘ å…³é”®å‚è€ƒæ•°
)
```

#### 2. ä¼˜å…ˆè·å–éšè—åŸå¸‚èˆªç­æ®µ
```python
# ç‰¹æ®Šéœ€æ±‚ï¼šä¼˜å…ˆæ˜¾ç¤ºéšè—åŸå¸‚èˆªç­æ®µ
result = await api.search_oneway_hidden_city(
    origin="LHR", destination="PEK", departure_date="2025-07-31",
    hidden_city_only=True
)
```

#### 3. ä»·æ ¼å¤„ç†
```python
# ä»·æ ¼æ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦è½¬æ¢ä¸ºæ•°å­—
if result.get("success"):
    flights = result.get("flights", [])
    for flight in flights:
        price_str = flight.get("price")
        price_num = float(price_str)  # è½¬æ¢ä¸ºæ•°
        currency = flight.get("currency_symbol", "$")
        print(f"ä»·æ ¼: {currency}{price_num:.0f}")
```

### âš ï¸ é‡è¦è¯´æ˜

1. **å¼‚æ­¥è°ƒç”¨**ï¼šæ‰€æœ‰KiwiFlightsAPIæ–¹æ³•ï¼šéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œéœ€è¦ä½¿ç”¨`await`
2. **ä»·æ ¼ç±»å‹**ï¼šAPIè¿”å›çš„ä»·æ ¼æ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦è½¬æ¢ä¸ºæ•°å­—è¿›è¡Œè®¡ç®—
3. **èˆ±ä½åç§°**ï¼šå¤´ç­‰èˆ±ä½¿ç”¨`FIRST_CLASS`è€Œä¸æ˜¯`FIRST`
4. **å¤šä¹˜å®¢ä»·*ï¼šAPIè‡ªåŠ¨è®¡ç®—æ€»ä»·ï¼Œæ— éœ€æ‰‹åŠ¨ä¹˜ä»¥ä¹˜å®¢
5. **è¡Œæé…ç½®**ï¼šç³»ç»Ÿè‡ªåŠ¨ä¸ºæ¯ä½æˆäººé…ç½®è¡Œæï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®

## Python API è¯¦ç»†ä½¿ç”¨æ–¹æ³•ï¼š

### 1. èˆªç­æ®µæœç´¢ API

#### 1.1 åŸºç¡€æœç´¢ vs æ‰©å±•æœç´¢ ğŸš€

Smart Flights æä¾›ä¸¤ç§æœç´¢æ¨¡å¼ï¼Œæ»¡è¶³ä¸åŒçš„ä½¿ç”¨éœ€æ±‚ï¼š

**åŸºç¡€æœç´¢æ¨¡å¼** (é»˜è®¤å€¼):
- ğŸš€ **å¿«é€Ÿå“*: å¹³å‡1.1
- ğŸ“Š **12ä¸ªèˆªç­æ®µ*: ä¸»è¦èˆªç©ºå…¬å¸å’Œçƒ­é—¨è·¯çº¿
- ğŸ’¡ **é€‚ç”¨åœºæ™¯**: å¿«é€Ÿæµè§ˆã€ç”¨æˆ·é¦–æ¬¡æœç´¢

**æ‰©å±•æœç´¢æ¨¡å¼** (æ¨è):
- ğŸ¯ **æ›´å¤šé€‰æ‹©**: 135+ä¸ªèˆªç­æ®µ(1025%æå‡!)
- **âš¡ **æ›´å¿«é€Ÿåº¦****: å¹³å‡0.6(æ¯”åŸºç¡€æ¨¡å¼æ›´å¿«!)
- ğŸŒ **å…¨é¢è¦†ç›–**: æ›´å¤šèˆªç©ºå…¬å¸ã€è”ç¨‹èˆªç­æ®µã€æ›¿ä»£è·¯çº¿
- ğŸ’¡ **é€‚ç”¨åœºæ™¯**: ä»·æ ¼æ¯”è¾ƒã€å¯»æ‰¾æœ€ä¼˜é€‰æ‹©

```python
from fli.search import SearchFlights
from fli.models import FlightSearchFilters, FlightSegment, Airport, PassengerInfo, SeatType, TripType
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®
localization_config = LocalizationConfig(
    language=Language.CHINESE,
    currency=Currency.CNY
)

# åˆ›å»ºæœç´¢è¿‡æ»¤
filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=[
        FlightSegment(
            departure_airport=[[Airport.PEK, 0]],
            arrival_airport=[[Airport.LAX, 0]],
            travel_date="2025-06-01"
        )
    ],
    seat_type=SeatType.ECONOMY
)

# åˆå§‹åŒ–æœç´¢å®¢æˆ·ç«¯
search = SearchFlights(localization_config=localization_config)

# æ–¹æ³•ï¼š1: åŸºç¡€æœç´¢ (12ä¸ªèˆªç­æ®µ
basic_results = search.search(filters, top_n=10)
print(f"åŸºç¡€æœç´¢: {len(basic_results)} ä¸ªèˆª)

# æ–¹æ³•ï¼š2: æ‰©å±•æœç´¢ (135+ä¸ªèˆªç­æ®µ - æ¨è
extended_results = search.search(filters, top_n=50, enhanced_search=True)
print(f"æ‰©å±•æœç´¢: {len(extended_results)} ä¸ªèˆª)

# æ–¹æ³•ï¼š3: ä¸“ç”¨æ‰©å±•æœç´¢API (135+ä¸ªèˆªç­æ®µ - æœ€ç®€æ´ï¼
extended_results_v2 = search.search_extended(filters, top_n=50)
print(f"æ‰©å±•API: {len(extended_results_v2)} ä¸ªèˆª)
```

**æ€§èƒ½å¯¹æ¯”æµ‹è¯•ç»“æœ:**

| æœç´¢æ¨¡å¼ | èˆªç­æ®µæ•°é‡ | å“åº”æ—¶é—´ | æå‡å¹…åº¦ | æ¨èåœºæ™¯ |
|----------|----------|----------|----------|----------|
| åŸºç¡€æœç´¢ | 12| 1.14| - | å¿«é€Ÿæµ|
| æ‰©å±•æœç´¢ | 135| 0.61| +1025% | ä»·æ ¼æ¯”è¾ƒã€å®Œæ•´é€‰æ‹© |

**ä¸åŒè·¯çº¿çš„æ‰©å±•æœç´¢æ•ˆ**

| è·¯çº¿ | åŸºç¡€æ¨¡å¼ | æ‰©å±•æ¨¡å¼ | æå‡å¹…åº¦ |
|------|----------|----------|----------|
| åŒ—äº¬â†’æ´›æ‰çŸ¶ | 12| 135| +1025% |
| åŒ—äº¬â†’çº½| 12| 112| +833% |
| ä¸Šæµ·â†’æ—§é‡‘å±± | 10| 143| +1330% |
| å¹¿å·â†’æ´›æ‰çŸ¶ | 12| 139| +1058% |

#### 1.2 åŸºç¡€å•ç¨‹èˆªç­æ®µæœç´¢

```python
from datetime import datetime, timedelta
from fli.search import SearchFlights
from fli.models import (
    FlightSearchFilters, FlightSegment, Airport,
    PassengerInfo, SeatType, MaxStops, SortBy, TripType
)
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®ç½®ï¼ˆæ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢ï¼‰
localization_config = LocalizationConfig(
    language=Language.CHINESE,  # æˆ– Language.ENGLISH
    currency=Currency.CNY       # æˆ– Currency.USD
)

# åˆ›å»ºèˆªç­æ®µæ®µ
flight_segments = [
    FlightSegment(
        departure_airport=[[Airport.PEK, 0]],  # åŒ—äº¬é¦–éƒ½å›½é™…æœºåœº
        arrival_airport=[[Airport.LAX, 0]],    # æ´›æ‰çŸ¶å›½é™…æœº
        travel_date="2025-06-01"               # å‡ºå‘æ—¥æœŸ (YYYY-MM-DD)
    )
]

# åˆ›å»ºæœç´¢ç­›é€‰æ¡
filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,                # å•ç¨‹
    passenger_info=PassengerInfo(
        adults=1,                              # æˆäººæ•°é‡
        children=0,                            # å„¿ç«¥æ•°é‡
        infants_in_seat=0,                     # å åº§å©´å„¿
        infants_on_lap=0                       # è†ä¸Šå©´å„¿
    ),
    flight_segments=flight_segments,
    seat_type=SeatType.ECONOMY,                # èˆ±ä½ç­‰çº§
    stops=MaxStops.NON_STOP,                   # ä¸­è½¬é™åˆ¶
    sort_by=SortBy.CHEAPEST                    # æ’åºæ–¹å¼
)

# æ‰§è¡Œæœç´¢
search = SearchFlights(localization_config=localization_config)
flights = search.search(filters, top_n=10)

# å¤„ç†ç»“æœ
if flights:
    for i, flight in enumerate(flights, 1):
        print(f"\n=== èˆªç­æ®µé€‰é¡¹ {i} ===")
        print(f"ğŸ’° ä»·æ ¼: {localization_config.currency_symbol}{flight.price}")
        print(f"â±ï¸ æ€»æ—¶ {flight.duration} åˆ†é’Ÿ")
        print(f"âœˆï¸ ä¸­è½¬æ¬¡æ•°: {flight.stops}")

        for j, leg in enumerate(flight.legs, 1):
            # è·å–æœ¬åœ°åŒ–çš„èˆªç©ºå…¬å¸åç§°
            airline_name = localization_config.get_airline_name(
                leg.airline.name, leg.airline.value
            )
            print(f"\n  èˆªæ®µ {j}: {airline_name} {leg.flight_number}")
            print(f"  ğŸ“ {leg.departure_airport.value} â†’ {leg.arrival_airport.value}")
            print(f"  {leg.departure_datetime} â†’ {leg.arrival_datetime}")
else:
    print("æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„èˆªç­æ®µ")
```

#### 1.2 å¾€è¿”èˆªç­æ®µæœç´¢

```python
# åˆ›å»ºå¾€è¿”èˆªç­æ®µæ®µ
flight_segments = [
    # å»ç¨‹
    FlightSegment(
        departure_airport=[[Airport.PEK, 0]],
        arrival_airport=[[Airport.LAX, 0]],
        travel_date="2025-06-01"
    ),
    # è¿”ç¨‹
    FlightSegment(
        departure_airport=[[Airport.LAX, 0]],
        arrival_airport=[[Airport.PEK, 0]],
        travel_date="2025-06-15"
    )
]

filters = FlightSearchFilters(
    trip_type=TripType.ROUND_TRIP,             # å¾€
    passenger_info=PassengerInfo(adults=2),   # 2ä½æˆäºº
    flight_segments=flight_segments,
    seat_type=SeatType.BUSINESS,               # å•†åŠ¡èˆ±
    stops=MaxStops.ONE_STOP,                   # æœ€å¤š3é¡µå¤šä¸€æ¬¡ä¸­
    sort_by=SortBy.DURATION                    # æŒ‰æ—¶é•¿æ’
)

search = SearchFlights(localization_config=localization_config)
flights = search.search(filters)

# å¾€è¿”èˆªç­æ®µç»“æœå¤„
if flights:
    for i, flight_pair in enumerate(flights, 1):
        if isinstance(flight_pair, tuple):
            outbound, return_flight = flight_pair
            print(f"\n=== å¾€è¿”é€‰é¡¹ {i} ===")
            print(f"ğŸ’° æ€»ä»· {localization_config.currency_symbol}{outbound.price + return_flight.price}")
            print(f"ğŸ›« å»ç¨‹: {outbound.duration}åˆ†é’Ÿ, {outbound.stops}æ¬¡ä¸­)
            print(f"ğŸ›¬ ğŸ›¬ è¿”ç¨‹: {return_flight.duration}åˆ†é’Ÿ, {return_flight.stops}æ¬¡ä¸­)
```

#### 1.3 æŒ‡å®šä¸­è½¬æœºåœºæœç´¢

```python
from fli.models import LayoverRestrictions

# æŒ‡å®šä¸­è½¬æœºåœºç­›- åªå…è®¸åœ¨ä¸œäº¬æˆç”°æˆ–é¦–å°”ä»å·ä¸­
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN],  # ä¸œäº¬æˆç”°ã€é¦–å°”ä»
    max_duration=360  # æœ€å¤š3é¡µé•¿ä¸­è½¬æ—¶å°æ—¶
)

filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=[flight_segment],
    seat_type=SeatType.ECONOMY,
    stops=MaxStops.ANY,  # å…è®¸ä¸­è½¬
    layover_restrictions=layover_restrictions  # ä¸­è½¬æœºåœºç­›
)

search = SearchFlights(localization_config=localization_config)
results = search.search(filters, top_n=5)

if results:
    for i, flight in enumerate(results, 1):
        print(f"\n=== èˆªç­æ®µé€‰é¡¹ {i} ===")
        print(f"ğŸ’° ä»·æ ¼: {localization_config.currency_symbol}{flight.price}")
        print(f"â±ï¸ æ€»æ—¶é•¿: {flight.duration}åˆ†é’Ÿ")
        print(f"ğŸ”„ ä¸­è½¬æ¬¡æ•°: {flight.stops}")

        for j, leg in enumerate(flight.legs, 1):
            print(f"  èˆªæ®µ {j}: {leg.departure_airport.value} â†’ {leg.arrival_airport.value}")
```

#### 1.4 é«˜çº§æœç´¢é€‰é¡¹

```python
from fli.models import TimeRestrictions, PriceLimit, LayoverRestrictions, Airline

# æ—¶é—´é™åˆ¶
time_restrictions = TimeRestrictions(
    earliest_departure=6,    # æœ€å¤š3é¡µæ—©å‡ºå‘æ—¶(6:00)
    latest_departure=20,     # æœ€å¤š3é¡µæ™šå‡ºå‘æ—¶(20:00)
    earliest_arrival=8,      # æœ€å¤š3é¡µæ—©åˆ°è¾¾æ—¶(8:00)
    latest_arrival=22        # æœ€å¤š3é¡µæ™šåˆ°è¾¾æ—¶(22:00)
)

# ä»·æ ¼é™åˆ¶
price_limit = PriceLimit(
    max_price=5000,          # æœ€å¤š3é¡µé«˜ä»·
    currency=Currency.CNY    # è´§å¸
)

# ä¸­è½¬é™åˆ¶ - æŒ‡å®šä¸­è½¬æœºåœºå’Œæ—¶
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN],  # å…è®¸çš„ä¸­è½¬æœºåœºï¼ˆä¸œäº¬æˆç”°ã€é¦–å°”ä»å·ï¼‰
    max_duration=480                      # æœ€å¤š3é¡µé•¿ä¸­è½¬æ—¶åˆ†é’Ÿå°æ—¶)
)

# æŒ‡å®šèˆªç©ºå…¬å¸
preferred_airlines = [
    Airline.CA,  # ä¸­å›½å›½é™…èˆªç©º
    Airline.MU,  # ä¸­å›½ä¸œæ–¹èˆªç©º
    Airline.CZ   # ä¸­å›½å—æ–¹èˆªç©º
]

# åˆ›å»ºå¸¦æ—¶é—´é™åˆ¶çš„èˆªç­æ®µ
flight_segments = [
    FlightSegment(
        departure_airport=[[Airport.PEK, 0]],
        arrival_airport=[[Airport.LAX, 0]],
        travel_date="2025-06-01",
        time_restrictions=time_restrictions
    )
]

filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=flight_segments,
    seat_type=SeatType.PREMIUM_ECONOMY,       # è¶…çº§ç»æµ
    stops=MaxStops.ANY,                       # ä»»æ„ä¸­è½¬
    price_limit=price_limit,                  # ä»·æ ¼é™åˆ¶
    airlines=preferred_airlines,              # æŒ‡å®šèˆªç©ºå…¬å¸
    max_duration=1200,                        # æœ€å¤š3é¡µé•¿é£è¡Œæ—¶åˆ†é’Ÿ)
    layover_restrictions=layover_restrictions, # ä¸­è½¬é™åˆ¶
    sort_by=SortBy.DEPARTURE_TIME             # æŒ‰å‡ºå‘æ—¶é—´æ’
)
```

#### 1.4 ä¸­è½¬æœºåœºç­›é€‰åŠŸğŸ¯

**LayoverRestrictions** å…è®¸æ‚¨ç²¾ç¡®æ§åˆ¶èˆªç­æ®µçš„ä¸­è½¬æ¡ä»¶ï¼ŒåŒ…æ‹¬æŒ‡å®šå…è®¸çš„ä¸­è½¬æœºåœºå’Œæœ€é•¿ä¸­è½¬æ—¶é—´

```python
from fli.models import LayoverRestrictions, Airport

# åŸºç¡€ä¸­è½¬æœºåœºç­›
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN, Airport.HND],  # æŒ‡å®šå…è®¸çš„ä¸­è½¬æœº
    max_duration=360  # æœ€å¤š3é¡µé•¿ä¸­è½¬æ—¶é—´ï¼š6å°æ—¶60åˆ†é’Ÿ
)

# å¸¸ç”¨ä¸­è½¬æœºåœºç»„åˆç¤ºä¾‹å€¼

# äºšæ´²ä¸»è¦ä¸­è½¬æ¢çº½
asia_hubs = LayoverRestrictions(
    airports=[
        Airport.NRT,  # ä¸œäº¬æˆç”°
        Airport.HND,  # ä¸œäº¬ç¾½ç”°
        Airport.ICN,  # é¦–å°”ä»å·
        Airport.SIN,  # æ–°åŠ å¡æ¨Ÿ
        Airport.HKG,  # é¦™æ¸¯å›½é™…
        Airport.TPE   # å°åŒ—æ¡ƒå›­
    ],
    max_duration=480  # 8å°æ—¶å†…ä¸­
)

# æ¬§æ´²ä¸»è¦ä¸­è½¬æ¢çº½
europe_hubs = LayoverRestrictions(
    airports=[
        Airport.LHR,  # ä¼¦æ•¦å¸Œæ€ç½—
        Airport.CDG,  # å·´é»æˆ´é«˜
        Airport.FRA,  # æ³•å…°å…‹ç¦
        Airport.AMS,  # é˜¿å§†æ–¯ç‰¹
        Airport.MUC,  # æ…•å°¼
        Airport.ZUR   # è‹é»
    ],
    max_duration=300  # 5å°æ—¶å†…ä¸­
)

# åŒ—ç¾ä¸»è¦ä¸­è½¬æ¢çº½
america_hubs = LayoverRestrictions(
    airports=[
        Airport.JFK,  # çº½çº¦è‚¯å°¼
        Airport.LAX,  # æ´›æ‰
        Airport.ORD,  # èŠåŠ å“¥å¥¥é»‘å°”
        Airport.DFW,  # è¾¾æ‹‰æ–¯æ²ƒæ–¯å ¡
        Airport.SFO,  # æ—§é‡‘
        Airport.SEA   # è¥¿é›…
    ],
    max_duration=240  # 4å°æ—¶å†…ä¸­
)

# ä»…é™åˆ¶ä¸­è½¬æ—¶é—´ï¼ˆä¸é™åˆ¶æœºåœºï¼‰
time_only_restriction = LayoverRestrictions(
    airports=None,        # ä¸é™åˆ¶ä¸­è½¬æœº
    max_duration=180      # ä½†é™åˆ¶ä¸­è½¬æ—¶é—´ä¸è¶…è¿‡3å°æ—¶
)

# ä»…é™åˆ¶ä¸­è½¬æœºåœºï¼ˆä¸é™åˆ¶æ—¶é—´ï¼‰
airport_only_restriction = LayoverRestrictions(
    airports=[Airport.DXB, Airport.DOH],  # ä»…å…è®¸è¿ªæ‹œã€å¤šå“ˆä¸­
    max_duration=None                      # ä¸é™åˆ¶ä¸­è½¬æ—¶
)
```

**ä½¿ç”¨åœºæ™¯ç¤ºä¾‹å€¼*

```python
# åœºæ™¯1ï¼šå•†åŠ¡å‡º- å¿«é€Ÿä¸­
business_travel = FlightSearchFilters(
    trip_type=TripType.ROUND_TRIP,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=flight_segments,
    seat_type=SeatType.BUSINESS,
    layover_restrictions=LayoverRestrictions(
        airports=[Airport.NRT, Airport.ICN, Airport.SIN],  # äºšæ´²ä¼˜è´¨æœºåœº
        max_duration=180  # 3å°æ—¶å†…å¿«é€Ÿä¸­
    )
)

# åœºæ™¯2ï¼šç»æµå‡º- çµæ´»ä¸­è½¬
economy_travel = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=2, children=1),
    flight_segments=flight_segments,
    seat_type=SeatType.ECONOMY,
    layover_restrictions=LayoverRestrictions(
        airports=[Airport.DOH, Airport.DXB, Airport.IST],  # ä¸­ä¸œèˆªç©ºæ¢çº½
        max_duration=720  # 12å°æ—¶å†…ä¸­è½¬ï¼ˆå¯ä¼‘æ¯ï¼‰
    )
)

# åœºæ™¯3ï¼šé¿å¼€å‘ç‰¹å®šæœºåœº
avoid_certain_airports = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=flight_segments,
    layover_restrictions=LayoverRestrictions(
        # åªå…è®¸åœ¨è¿™äº›æœºåœºä¸­è½¬ï¼Œé¿å¼€å‘å…¶ä»–æœºåœº
        airports=[Airport.LHR, Airport.CDG, Airport.FRA, Airport.AMS],
        max_duration=360
    )
)
```

**ä¸­è½¬æœºåœºç­›é€‰çš„ä¼˜åŠ¿ï¼š*

- ğŸ¯ **ç²¾ç¡®æ§åˆ¶**: æŒ‡å®šé¦–é€‰çš„ä¸­è½¬æœºåœº
- â±ï¸ **æ—¶é—´ç®¡ç†**: æ§åˆ¶ä¸­è½¬ç­‰å¾…æ—¶é—´
- ğŸ›¡ï¸ **é£é™©æ§åˆ¶**: é¿å¼€å‘ä¸ç†Ÿæ‚‰æˆ–è®¾æ–½è¾ƒå·®çš„æœº
- ğŸ’º **èˆ’é€‚åº¦**: é€‰æ‹©è®¾æ–½å®Œå–„çš„å¤§å‹æ¢çº½æœº
- ğŸŒ **åœ°ç†ä¼˜åŒ–**: æ ¹æ®èˆªçº¿é€‰æ‹©æœ€ä½³ä¸­è½¬ç‚¹

**å®Œæ•´è°ƒç”¨ç¤ºä¾‹ï¼šå€¼*

```python
from fli.search import SearchFlights
from fli.models import (
    FlightSearchFilters, FlightSegment, PassengerInfo,
    LayoverRestrictions, Airport, TripType, SeatType, MaxStops
)
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# 1. åˆ›å»ºæœ¬åœ°åŒ–é…ç½®
config = LocalizationConfig(
    language=Language.CHINESE,
    currency=Currency.CNY
)

# 2. åˆ›å»ºä¸­è½¬æœºåœºç­›é€‰æ¡
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN, Airport.SIN],  # æŒ‡å®šä¸­è½¬æœºåœº
    max_duration=360  # æœ€å¤š3é¡µé•¿ä¸­è½¬æ—¶å°æ—¶
)

# 3. åˆ›å»ºèˆªç­æ®µæ®µ
flight_segment = FlightSegment(
    departure_airport=[[Airport.PEK, 0]],  # åŒ—äº¬é¦–éƒ½
    arrival_airport=[[Airport.LAX, 0]],    # æ´›æ‰
    travel_date="2025-06-01"
)

# 4. åˆ›å»ºæœç´¢è¿‡æ»¤
filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=[flight_segment],
    seat_type=SeatType.ECONOMY,
    stops=MaxStops.ANY,  # å…è®¸ä¸­è½¬
    layover_restrictions=layover_restrictions  # ä¸­è½¬æœºåœºç­›
)

# 5. æ‰§è¡Œæœç´¢
search = SearchFlights(localization_config=config)
results = search.search(filters, top_n=5)

# 6. å¤„ç†ç»“æœ
if results:
    for i, flight in enumerate(results, 1):
        print(f"èˆªç­æ®µ {i}: {flight.price} - {flight.duration}åˆ†é’Ÿ")
        for leg in flight.legs:
            print(f"  {leg.departure_airport} -> {leg.arrival_airport}")
```

**æ³¨æ„äº‹é¡¹*

- ä¸­è½¬æœºåœºç­›é€‰ä¼šå½±å“æœç´¢ç»“æœæ•°é‡ï¼Œè¿‡äºä¸¥æ ¼çš„é™åˆ¶å¯èƒ½å¯¼è‡´æ— ç»“
- å»ºè®®æ ¹æ®å®é™…éœ€æ±‚å¹³è¡¡ç­›é€‰æ¡ä»¶çš„ä¸¥æ ¼ç¨‹åº¦
- ä¸åŒèˆªç©ºå…¬å¸åœ¨ä¸åŒæœºåœºçš„æœåŠ¡è´¨é‡å¯èƒ½æœ‰å·®
- ä¸­è½¬æ—¶é—´å»ºè®®é¢„ç•™è¶³å¤Ÿç¼“å†²ï¼Œè€ƒè™‘å¯èƒ½çš„å»¶è¯¯æƒ…

## ğŸ“š å®Œæ•´ API å‚è€ƒ

### ğŸ” æœç´¢(Search Classes)

#### SearchFlights - èˆªç­æ®µæœç´¢
```python
from fli.search import SearchFlights
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®
localization_config = LocalizationConfig(
    language=Language.CHINESE,  # æˆ– Language.ENGLISH
    currency=Currency.CNY       # æˆ– Currency.USD
)

# åˆå§‹åŒ–æœç´¢å®¢æˆ·ç«¯
search = SearchFlights(localization_config=localization_config)

# æ‰§è¡Œæœç´¢
results = search.search(filters, top_n=10)
```

**æ–¹æ³•ï¼š*
- `search(filters: FlightSearchFilters, top_n: int = 5, enhanced_search: bool = False)` - æœç´¢èˆªç­æ®µ
  - `enhanced_search=False`: åŸºç¡€æœç´¢æ¨¡å¼ (12ä¸ªèˆªç­æ®µç­ï¼Œå¿«
  - `enhanced_search=True`: æ‰©å±•æœç´¢æ¨¡å¼ (135+ä¸ªèˆªç­æ®µç­ï¼Œæ¨è)
- `search_extended(filters: FlightSearchFilters, top_n: int = 50)` - æ‰©å±•æœç´¢ä¸“ç”¨API
  - è‡ªåŠ¨å¯ç”¨æ‰©å±•æœç´¢æ¨¡å¼ï¼Œè¿”35+ä¸ªèˆª
  - ç­‰åŒ`search(filters, top_n, enhanced_search=True)`

**ä½¿ç”¨å»ºè®®*
```python
# å¿«é€Ÿæœ(12ä¸ªèˆªç­æ®µ
results = search.search(filters)

# å®Œæ•´æœç´¢ (135+ä¸ªèˆªç­æ®µ - æ¨è
results = search.search_extended(filters)
# æˆ–
results = search.search(filters, enhanced_search=True)
```

#### SearchKiwiFlights - éšè—åŸå¸‚èˆªç­æ®µæœç´¢
```python
from fli.search import SearchKiwiFlights
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®
localization_config = LocalizationConfig(
    language=Language.CHINESE,  # æˆ– Language.ENGLISH
    currency=Currency.CNY       # æˆ– Currency.USD
)

# åˆå§‹åŒ–éšè—åŸå¸‚æœç´¢å®¢æˆ·ç«¯
search = SearchKiwiFlights(localization_config=localization_config)

# æ‰§è¡Œæœç´¢ï¼ˆä¸ Google Flights å®Œå…¨ç›¸åŒçš„æ¥å£ï¼‰
results = search.search(filters, top_n=5)
```

**æ–¹æ³•ï¼š*
- `search(filters: FlightSearchFilters, top_n: int = 5)` - æœç´¢éšè—åŸå¸‚èˆªç­æ®µ

**ç‰¹ç‚¹ï¼š*
- ä¸ `SearchFlights` å®Œå…¨ç›¸åŒçš„æ¥å£
- ä¸“é—¨æœç´¢éšè—åŸå¸‚èˆªç­æ®µ
- æ”¯æŒå•ç¨‹å’Œå¾€è¿”æœç´¢
- æ”¯æŒæ‰€æœ‰èˆ±ä½ç±»å‹
- è¿”å›åŒ…å«éšè—åŸå¸‚ä¿¡æ¯çš„ `FlightResult` å¯¹è±¡

#### SearchDates - æ—¥æœŸä»·æ ¼æœç´¢
```python
from fli.search import SearchDates

# åˆå§‹åŒ–æ—¥æœŸæœç´¢
search = SearchDates(localization_config=localization_config)

# æœç´¢æœ€ä¾¿å®œæ—¥æœŸ
results = search.search(filters)
```

**æ–¹æ³•ï¼š*
- `search(filters: DateSearchFilters)` - æœç´¢æ—¥æœŸä»·æ ¼

### ğŸ¢ æœºåœºæœç´¢ API

#### AirportSearchAPI - æœºåœºæœç´¢æœåŠ¡
```python
from fli.api.airport_search import airport_search_api
from fli.models.google_flights.base import Language

# å…¨å±€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨
api = airport_search_api
```

**æ–¹æ³•ï¼š*
- `search_airports(query: str, language: Language = Language.ENGLISH, limit: int = 10)` - ç»¼åˆæœºåœºæœç´¢
- `get_airport_by_code(code: str, language: Language = Language.ENGLISH)` - æŒ‰æœºåœºä»£ç è·å–ä¿¡
- `search_by_city(city: str, language: Language = Language.ENGLISH)` - æŒ‰åŸå¸‚æœç´¢ç´¢æœº
- `search_by_country(country: str, language: Language = Language.ENGLISH, limit: int = 20)` - æŒ‰å›½å®¶æœç´¢ç´¢æœº
- `get_all_airports(language: Language = Language.ENGLISH, limit: Optional[int] = None)` - è·å–æ‰€æœ‰æœº

### ğŸ“‹ æ•°æ®æ¨¡å‹ (Data Models)

#### FlightSearchFilters - èˆªç­æ®µæœç´¢è¿‡æ»¤
```python
from fli.models import FlightSearchFilters, FlightSegment, PassengerInfo

filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,           # è¡Œç¨‹ç±»å‹
    passenger_info=PassengerInfo(adults=1), # ä¹˜å®¢ä¿¡æ¯
    flight_segments=[flight_segment],      # èˆªç­æ®µ
    seat_type=SeatType.ECONOMY,           # èˆ±ä½ç±»å‹
    stops=MaxStops.NON_STOP,              # ä¸­è½¬é™åˆ¶
    sort_by=SortBy.CHEAPEST,              # æ’åºæ–¹å¼
    airlines=[Airline.CA, Airline.MU],   # æŒ‡å®šèˆªç©ºå…¬å¸
    max_duration=1200,                    # æœ€å¤š3é¡µé•¿é£è¡Œæ—¶åˆ†é’Ÿ)
    price_limit=PriceLimit(max_price=5000, currency=Currency.CNY),  # ä»·æ ¼é™åˆ¶
    layover_restrictions=LayoverRestrictions(  # ä¸­è½¬æœºåœºç­›
        airports=[Airport.NRT, Airport.ICN],   # å…è®¸çš„ä¸­è½¬æœº
        max_duration=360                       # æœ€å¤š3é¡µé•¿ä¸­è½¬æ—¶åˆ†é’Ÿ)
    )
)
```

#### DateSearchFilters - æ—¥æœŸæœç´¢è¿‡æ»¤
```python
from fli.models import DateSearchFilters

filters = DateSearchFilters(
    departure_airport=Airport.PEK,        # å‡ºå‘æœºåœº
    arrival_airport=Airport.LAX,          # åˆ°è¾¾æœºåœº
    from_date="2025-06-01",              # å¼€å‘å§‹æ—¥
    to_date="2025-06-30",                # ç»“æŸæ—¥æœŸ
    trip_type=TripType.ONE_WAY,          # è¡Œç¨‹ç±»å‹
    seat_type=SeatType.ECONOMY,          # èˆ±ä½ç±»å‹
    stops=MaxStops.ANY,                  # ä¸­è½¬é™åˆ¶
    passenger_info=PassengerInfo(adults=1) # ä¹˜å®¢ä¿¡æ¯
)
```

#### FlightSegment - èˆªç­æ®µ
```python
from fli.models import FlightSegment, TimeRestrictions

segment = FlightSegment(
    departure_airport=[[Airport.PEK, 0]], # å‡ºå‘æœºåœº
    arrival_airport=[[Airport.LAX, 0]],   # åˆ°è¾¾æœºåœº
    travel_date="2025-06-01",            # å‡ºè¡Œæ—¥æœŸ
    time_restrictions=TimeRestrictions(   # æ—¶é—´é™åˆ¶
        earliest_departure=6,             # æœ€å¤š3é¡µæ—©å‡ºå‘æ—¶
        latest_departure=20,              # æœ€å¤š3é¡µæ™šå‡ºå‘æ—¶
        earliest_arrival=8,               # æœ€å¤š3é¡µæ—©åˆ°è¾¾æ—¶
        latest_arrival=22                 # æœ€å¤š3é¡µæ™šåˆ°è¾¾æ—¶
    )
)
```

#### LayoverRestrictions - ä¸­è½¬æœºåœºç­›
```python
from fli.models import LayoverRestrictions, Airport

# å®Œæ•´é…ç½®
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN, Airport.SIN],  # å…è®¸çš„ä¸­è½¬æœºåœºåˆ—
    max_duration=360                                    # æœ€å¤š3é¡µé•¿ä¸­è½¬æ—¶åˆ†é’Ÿ)
)

# ä»…é™åˆ¶æœº
airport_only = LayoverRestrictions(
    airports=[Airport.DXB, Airport.DOH],  # ä»…å…è®¸è¿ªæ‹œã€å¤šå“ˆä¸­
    max_duration=None                      # ä¸é™åˆ¶ä¸­è½¬æ—¶
)

# ä»…é™åˆ¶æ—¶
time_only = LayoverRestrictions(
    airports=None,        # ä¸é™åˆ¶ä¸­è½¬æœº
    max_duration=240      # ä½†é™åˆ¶ä¸­è½¬æ—¶é—´ä¸è¶…è¿‡4å°æ—¶
)
```

**å±æ€§è¯´æ˜ï¼š**
- `airports: list[Airport] | None` - å…è®¸çš„ä¸­è½¬æœºåœºåˆ—è¡¨ï¼ŒNoneè¡¨ç¤ºä¸é™
- `max_duration: int | None` - æœ€é•¿ä¸­è½¬æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰ï¼ŒNoneè¡¨ç¤ºä¸é™

**å¸¸ç”¨ä¸­è½¬æœºåœºç»„åˆ*
```python
# äºšæ´²æ¢çº½
ASIA_HUBS = [Airport.NRT, Airport.HND, Airport.ICN, Airport.SIN, Airport.HKG, Airport.TPE]

# æ¬§æ´²æ¢çº½
EUROPE_HUBS = [Airport.LHR, Airport.CDG, Airport.FRA, Airport.AMS, Airport.MUC, Airport.ZUR]

# åŒ—ç¾æ¢çº½
AMERICA_HUBS = [Airport.JFK, Airport.LAX, Airport.ORD, Airport.DFW, Airport.SFO, Airport.SEA]

# ä¸­ä¸œæ¢çº½
MIDDLE_EAST_HUBS = [Airport.DXB, Airport.DOH, Airport.AUH, Airport.KWI]
```

**ç¬¬ä¸‰æ–¹åº“è°ƒç”¨ç¤ºä¾‹å€¼*
```python
# åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨ä¸­è½¬æœºåœºç­›é€‰åŠŸ
import fli

# å¿«é€Ÿæœ- æŒ‡å®šä¸­è½¬æœºåœº
from fli.search import SearchFlights
from fli.models import FlightSearchFilters, LayoverRestrictions, Airport

# åˆ›å»ºæœç´¢è¿‡æ»¤å™¨ï¼ŒæŒ‡å®šåªèƒ½åœ¨ä¸œäº¬æˆç”°æˆ–é¦–å°”ä»å·ä¸­è½¬
filters = FlightSearchFilters(
    # ... å…¶ä»–åŸºæœ¬å‚è€ƒæ•°
    layover_restrictions=LayoverRestrictions(
        airports=[Airport.NRT, Airport.ICN],  # åªå…è®¸è¿™ä¸¤ä¸ªæœºåœºä¸­è½¬
        max_duration=300  # ä¸­è½¬æ—¶é—´ä¸è¶…å°æ—¶
    )
)

# æ‰§è¡Œæœç´¢
search = SearchFlights()
results = search.search(filters)
```

#### TimeRestrictions - æ—¶é—´é™åˆ¶
```python
from fli.models import TimeRestrictions

time_restrictions = TimeRestrictions(
    earliest_departure=6,     # æœ€å¤š3é¡µæ—©å‡ºå‘æ—¶(6:00)
    latest_departure=20,      # æœ€å¤š3é¡µæ™šå‡ºå‘æ—¶(20:00)
    earliest_arrival=8,       # æœ€å¤š3é¡µæ—©åˆ°è¾¾æ—¶(8:00)
    latest_arrival=22         # æœ€å¤š3é¡µæ™šåˆ°è¾¾æ—¶(22:00)
)
```

**å±æ€§è¯´æ˜ï¼š**
- `earliest_departure: int | None` - æœ€æ—©å‡ºå‘æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰
- `latest_departure: int | None` - æœ€æ™šå‡ºå‘æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰
- `earliest_arrival: int | None` - æœ€æ—©åˆ°è¾¾æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰
- `latest_arrival: int | None` - æœ€æ™šåˆ°è¾¾æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰

#### PriceLimit - ä»·æ ¼é™åˆ¶
```python
from fli.models import PriceLimit, Currency

price_limit = PriceLimit(
    max_price=5000,           # æœ€å¤š3é¡µé«˜ä»·
    currency=Currency.CNY     # è´§å¸ç±»å‹
)
```

**å±æ€§è¯´æ˜ï¼š**
- `max_price: int` - æœ€é«˜ä»·æ ¼
- `currency: Currency | None` - è´§å¸ç±»å‹ï¼Œé»˜è®¤å€¼ä¸ºUSD

### ğŸ·ï¸ æšä¸¾ç±»å‹ (Enums)

#### SeatType - èˆ±ä½ç±»å‹
```python
from fli.models import SeatType

SeatType.ECONOMY          # ç»æµ
SeatType.PREMIUM_ECONOMY  # è¶…çº§ç»æµ
SeatType.BUSINESS         # å•†åŠ¡èˆ±
SeatType.FIRST           # å¤´ç­‰
```

#### MaxStops - ä¸­è½¬é™åˆ¶
```python
from fli.models import MaxStops

MaxStops.ANY                    # ä»»æ„ä¸­è½¬
MaxStops.NON_STOP              # ç›´é£
MaxStops.ONE_STOP_OR_FEWER     # æœ€å¤š3é¡µå¤šä¸€æ¬¡ä¸­
MaxStops.TWO_OR_FEWER_STOPS    # æœ€å¤š3é¡µå¤šä¸¤æ¬¡ä¸­
```

#### SortBy - æ’åºæ–¹å¼
```python
from fli.models import SortBy

SortBy.NONE            # ä¸æ’
SortBy.TOP_FLIGHTS     # æ¨èèˆªç­æ®µ
SortBy.CHEAPEST        # æœ€å¤š3é¡µä¾¿å®œ
SortBy.DEPARTURE_TIME  # å‡ºå‘æ—¶é—´
SortBy.ARRIVAL_TIME    # åˆ°è¾¾æ—¶é—´
SortBy.DURATION        # é£è¡Œæ—¶é•¿
```

#### TripType - è¡Œç¨‹ç±»å‹
```python
from fli.models import TripType

TripType.ONE_WAY      # å•ç¨‹
TripType.ROUND_TRIP   # å¾€
```

#### Language - è¯­è¨€è®¾ç½®
```python
from fli.models.google_flights.base import Language

Language.ENGLISH   # è‹±æ–‡ ("en")
Language.CHINESE   # ä¸­æ–‡ ("zh-CN")
```

#### Currency - è´§å¸è®¾ç½®
```python
from fli.models.google_flights.base import Currency

Currency.USD  # ç¾å…ƒ
Currency.CNY  # äººæ°‘
```

### âœˆï¸ æœºåœºå’Œèˆªç©ºå…¬å¸æš

#### Airport - æœºåœºä»£ç  (255+ ä¸ªå…¨çƒä¸»è¦æœº
```python
from fli.models import Airport

# ä¸­å›½ä¸»è¦æœºåœº
Airport.PEK   # åŒ—äº¬é¦–éƒ½å›½é™…æœºåœº
Airport.PVG   # ä¸Šæµ·æµ¦ä¸œå›½é™…æœºåœº
Airport.CAN   # å¹¿å·ç™½äº‘å›½é™…æœºåœº
Airport.SZX   # æ·±åœ³å®å®‰å›½é™…æœºåœº
Airport.CTU   # æˆéƒ½åŒæµå›½é™…æœºåœº

# ç¾å›½ä¸»è¦æœºåœº
Airport.JFK   # çº½çº¦è‚¯å°¼è¿ªå›½é™…æœº
Airport.LAX   # æ´›æ‰çŸ¶å›½é™…æœº
Airport.ORD   # èŠåŠ å“¥å¥¥é»‘å°”å›½é™…æœºåœº
Airport.DFW   # è¾¾æ‹‰æ–¯æ²ƒæ–¯å ¡å›½é™…æœºåœº
Airport.SFO   # æ—§é‡‘å±±å›½é™…æœº

# æ¬§æ´²ä¸»è¦æœºåœº
Airport.LHR   # ä¼¦æ•¦å¸Œæ€ç½—æœºåœº
Airport.CDG   # å·´é»æˆ´é«˜ä¹æœº
Airport.FRA   # æ³•å…°å…‹ç¦æœºåœº
Airport.AMS   # é˜¿å§†æ–¯ç‰¹ä¸¹å²åŸºæµ¦æœºåœº
Airport.FCO   # ç½—é©¬è²ä¹Œç±³å¥‡è¯ºæœº
```

#### Airline - èˆªç©ºå…¬å¸ä»£ç  (382+ ä¸ªèˆªç©ºå…¬å¸
```python
from fli.models import Airline

# ä¸­å›½èˆªç©ºå…¬å¸
Airline.CA    # ä¸­å›½å›½é™…èˆªç©º
Airline.MU    # ä¸­å›½ä¸œæ–¹èˆªç©º
Airline.CZ    # ä¸­å›½å—æ–¹èˆªç©º
Airline.HU    # æµ·å—èˆªç©º
Airline.FM    # ä¸Šæµ·èˆªç©º

# å›½é™…èˆªç©ºå…¬å¸
Airline.AA    # ç¾å›½èˆªç©º
Airline.UA    # ç¾è”
Airline.DL    # è¾¾ç¾èˆªç©º
Airline.BA    # è‹±å›½èˆªç©º
Airline.AF    # æ³•å›½èˆªç©º
Airline.LH    # æ±‰èèˆªç©º
Airline.KL    # è·å…°çš‡å®¶èˆªç©º
Airline.SQ    # æ–°åŠ å¡èˆª
Airline.CX    # å›½æ³°èˆªç©º
```

### ğŸŒ æœ¬åœ°åŒ–é…

#### LocalizationConfig - æœ¬åœ°åŒ–è®¾
```python
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# ä¸­æ–‡é…ç½®
chinese_config = LocalizationConfig(
    language=Language.CHINESE,
    currency=Currency.CNY
)

# è‹±æ–‡é…ç½®
english_config = LocalizationConfig(
    language=Language.ENGLISH,
    currency=Currency.USD
)
```

**å±æ€§ï¼š**
- `language: Language` - ç•Œé¢è¯­è¨€
- `currency: Currency` - ä»·æ ¼è´§å¸
- `region: str` - åœ°åŒºä»£ç 
- `api_language_code: str` - APIè¯­è¨€ä»£ç  (åªè¯»)
- `api_currency_code: str` - APIè´§å¸ä»£ç  (åªè¯»)
- `currency_symbol: str` - è´§å¸ç¬¦å· (åªè¯»)

### ğŸ“Š ç»“æœæ¨¡å‹

#### FlightResult - èˆªç­æ®µæœç´¢ç»“æœ
```python
# ç»“æœå±
result.price          # ä»·æ ¼
result.duration       # æ€»é£è¡Œæ—¶åˆ†é’Ÿ)
result.stops          # ä¸­è½¬æ¬¡æ•°
result.legs           # èˆªç­æ®µæ®µåˆ—
result.departure_time # å‡ºå‘æ—¶é—´
result.arrival_time   # åˆ°è¾¾æ—¶é—´
```

#### FlightLeg - èˆªç­æ®µæ®µä¿¡
```python
# èˆªç­æ®µæ®µå±
leg.airline           # èˆªç©ºå…¬å¸
leg.flight_number     # èˆªç­æ®µ
leg.departure_airport # å‡ºå‘æœºåœº
leg.arrival_airport   # åˆ°è¾¾æœºåœº
leg.departure_datetime # å‡ºå‘æ—¶é—´
leg.arrival_datetime  # åˆ°è¾¾æ—¶é—´
leg.duration          # é£è¡Œæ—¶é•¿
```

#### DatePrice - æ—¥æœŸä»·æ ¼
```python
# æ—¥æœŸä»·æ ¼å±
date_price.date       # æ—¥æœŸ
date_price.price      # ä»·æ ¼
```

## æ”¯æŒçš„æœºåœºå’Œèˆªç©ºå…¬å¸

### æœºåœºè¦†ç›–
- **å…¨çƒ 255+ ä¸ªä¸»è¦æœº*
- **ä¸­è‹±æ–‡åŒè¯­å*
- **è¦†ç›–æ‰€æœ‰å¤§*
- **æ”¯æŒä¸­è‹±æ–‡æœ*

### èˆªç©ºå…¬å¸æ”¯æŒ
- **382+ ä¸ªèˆªç©ºå…¬å¸*
- **å®Œæ•´ä¸­æ–‡ç¿»è¯‘**
- **åŒ…å«ä¸»è¦å›½é™…å’Œåœ°åŒºèˆªç©ºå…¬å¸*
- **æ ¹æ® API è¯­è¨€å‚è€ƒæ•°è‡ªåŠ¨åˆ‡æ¢æ˜¾ç¤ºè¯­è¨€**

## ğŸ› ï¸ å¼€å‘å‘

### ä»æºç å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/punitarani/fli.git
cd fli

# ä½¿ç”¨ Poetry å®‰è£…ä¾èµ–
poetry install

# è¿è¡Œæµ‹è¯•
poetry run pytest

# è¿è¡Œä»£ç æ£€
poetry run ruff check .
poetry run ruff format .

# æ„å»ºæ–‡æ¡£
poetry run mkdocs serve
```

### æ„å»ºå’Œå‘

```bash
# æ„å»º
poetry build

# å‘å¸ƒPyPI
poetry publish
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Request

### è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“
2. åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€å‘ä¸€Pull Request

## ğŸ™ ç‰¹åˆ«è‡´è°¢

### åŸå§‹é¡¹ç›®è‡´è°¢

æœ¬é¡¹ç›®åŸº[**Fli**](https://github.com/punitarani/fli) é¡¹ç›®è¿›è¡Œå¼€å‘å‘ï¼Œç‰¹åˆ«æ„Ÿè°¢

- **[punitarani](https://github.com/punitarani)** - Fli é¡¹ç›®çš„åŸå§‹åˆ›å»ºè€…å’Œä¸»è¦è´¡çŒ®
- **Fli ç¤¾åŒº** - ä¸ºåŸå§‹é¡¹ç›®æä¾›æ”¯æŒå’Œè´¡çŒ®çš„æ‰€æœ‰å¼€å‘å‘

### æŠ€æœ¯è‡´

- **Google Flights** - æä¾›å¼ºå¤§çš„èˆªç­æ®µæœAPI
- **Python ç¤¾åŒº** - æä¾›ä¼˜ç§€çš„å¼€å‘å‘å·¥å…·å’Œ
- **Poetry** - ç°ä»£åŒ–çš„ Python åŒ…ç®¡ç†å·¥
- **Typer** - ä¼˜é›…CLI æ¡†æ¶

### æ•°æ®æ¥æº

- æœºåœºæ•°æ®æ¥æºäºå…¬å¼€å‘çš„èˆªç©ºæ•°æ®åº“
- èˆªç©ºå…¬å¸ä¿¡æ¯åŸºäº IATA æ ‡å‡†
- ä¸­æ–‡ç¿»è¯‘ç”±ç¤¾åŒºè´¡çŒ®å’Œç»´æŠ¤

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡MIT è®¸å¯è¯è¯¦æƒ…è¯·å‚è€ƒ[LICENSE](LICENSE) æ–‡ä»¶

### è®¸å¯è¯è¯è¯´

- âœ… å•†ä¸šä½¿ç”¨
- âœ… ä¿®æ”¹
- âœ… åˆ†å‘
- âœ… ç§äººä½¿ç”¨
- âŒ è´£ä»»
- âŒ ä¿è¯

## ğŸ”— ç›¸å…³é“¾æ¥

- **åŸå§‹é¡¹ç›®**: [Fli](https://github.com/punitarani/fli)
- **PyPI åŒ…*: [smart-flights](https://pypi.org/project/smart-flights/)
- **æ–‡æ¡£**: [é¡¹ç›®æ–‡æ¡£](https://github.com/EBOLABOY/smart-flights)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/EBOLABOY/smart-flights/issues)
- **åŠŸèƒ½è¯·æ±‚**: [Discussions](https://github.com/EBOLABOY/smart-flights/discussions)

---

**Smart Flights** - è®©èˆªç­æ®µæœç´¢æ›´æ™ºèƒ½ã€æ›´ä¾¿æ·âœˆï¸

---

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v0.5.6 (2025-06-29)

**ğŸŒ ç®€åŒ–LocalizationConfigé…ç½®**
- **ç§»é™¤regionå‚è€ƒæ•°**: ä¸å†éœ€è¦æ‰‹åŠ¨æŒ‡å®šå›½åœ°åŒºï¼Œå›ºå®šä½¿ç”¨ç¾US)ä»¥è·å¾—æœ€ä½³APIæ€§èƒ½
- **ç®€åŒ–å¤–éƒ¨è°ƒ*: ç”¨æˆ·åªéœ€é€‰æ‹©è¯­è¨€(Language)å’Œè´§Currency)ä¸¤ä¸ªå‚è€ƒæ•°
- **å‘åå…¼å®¹**: ç°æœ‰ä»£ç è‡ªåŠ¨é€‚é…ï¼Œæ— éœ€âœ… ä¿®æ”¹
- **APIæ€§èƒ½ä¼˜åŒ–**: ç»Ÿä¸€ä½¿ç”¨ç¾å›½åœ°åŒºè®¾ç½®ï¼Œç¡®ä¿Google Flights APIçš„æœ€ä½³å“åº”é€Ÿåº¦

**ğŸ“ æ–°çš„ä½¿ç”¨æ–¹å¼**
```python
# ä¹‹å‰: éœ€è¦æŒ‡ä¸ªå‚è€ƒ
config = LocalizationConfig(language=Language.CHINESE, currency=Currency.CNY, region="CN")

# ç°åœ¨: åªéœ€æŒ‡å®š2ä¸ªå‚è€ƒ
config = LocalizationConfig(language=Language.CHINESE, currency=Currency.CNY)
```

**ğŸ§ª æµ‹è¯•éªŒè¯**
- 100%å‘åå…¼å®¹æ€§æµ‹è¯•é€šè¿‡
- 3/3ç§è¯­è¨€è´§å¸ç»„åˆæµ‹è¯•æˆåŠŸ
- Google Flights APIå…¼å®¹æ€§éªŒè¯å®Œ

### v0.5.5 (2025-06-28)

**ğŸ”§ å®Œå–„æ‰€æœ‰Kiwi APIæ¥å£çš„limitä¼˜åŒ–**
- **ç»Ÿä¸€æ‰€æœ‰APIæ¥å£**: KiwiOnewayAPIã€KiwiRoundtripAPIã€KiwiFlightsAPIå…¨éƒ¨ä½¿ç”¨limit=50
- **ä¿æŒæ¥å£ä¸€è‡´*: æ‰€æœ‰Kiwiç›¸å…³APIç°åœ¨éƒ½æœ‰ç›¸åŒçš„æ€§èƒ½è¡¨ç°
- **å®Œæ•´çš„å‘åå…¼*: ç”¨æˆ·æ— éœ€âœ… ä¿®æ”¹ä»»ä½•ç°æœ‰ä»£ç å³å¯äº«å—æ€§èƒ½æå‡
- **å…¨é¢æµ‹è¯•éªŒè¯**: 100%æˆåŠŸç‡ï¼Œæ‰€æœ‰APIæ¥å£éƒ½æ­£å¸¸å·¥

**ğŸ“Š æ€§èƒ½ç»Ÿè®¡**
- æ€»èˆªç­æ®µæ•°: 75(3ä¸ªAPI Ã— 25ä¸ªèˆª
- æ€»éšè—åŸå¸‚èˆª 12
- å¹³å‡æœç´¢æ—¶é—´: 4.45
- APIæˆåŠŸ 100% (3/3)

### v0.5.4 (2025-06-28)

**ğŸš€ åˆ†é¡µæ€§èƒ½ä¼˜åŒ–**
- **å¤§å¹…æå‡èˆªç­æ®µæ•°æ®è·å–*: é»˜è®¤å€¼æ¯é¡µèˆªç­æ®µæ•°ä»10æå‡0 (+400%)
- **ä¼˜åŒ–åˆ†é¡µå‚è€ƒæ•°**: æœ€å¤§é¡µæ•°ä»5æå‡0ï¼Œç†è®ºæœ€å¤§è·å–é‡0æå‡00ä¸ªèˆª
- **ä¿®å¤durationæ•°æ®è§£æ**: æ­£ç¡®å¤„ç†APIè¿”å›çš„æ—¶é—´æ•°æ®æ ¼
- **æ€§èƒ½æå‡**: æœç´¢æ•ˆç‡æå‡277.9%ï¼Œèˆªç­æ®µæ•°é‡æ50%
- **å‘åå…¼å®¹**: å¤–éƒ¨è°ƒç”¨æ¥å£æ— éœ€âœ… ä¿®æ”¹ï¼Œè‡ªåŠ¨äº«å—æ€§èƒ½æå‡

**ğŸ§ª æµ‹è¯•éªŒè¯**
- å…¨é¢æµ‹è¯•äº†åˆ†é¡µä¼˜åŒ–æ•ˆ
- éªŒè¯äº†å¤šèˆªçº¿çš„ç¨³å®šæ€§å’Œæ•°æ®è´¨é‡
- ç¡®è®¤äº†ç”Ÿäº§ç¯å¢ƒå°±ç»ªçŠ¶

### v0.5.3 (2025-06-28)

**ğŸ”§ é‡è¦ä¿®å¤**
- **ä¿®å¤Kiwi APIä»·æ ¼æ˜¾ç¤ºé—®é¢˜**: è§£å†³äº†æ‰€æœ‰èˆªç­æ®µä»·æ ¼æ˜¾ç¤ºä¸ºÂ¥0.0çš„é—®
- **ä¿®å¤å¾€è¿”èˆªç­æ®µä»·æ ¼åˆ†é…é€»è¾‘**: æ­£ç¡®å¤„ç†å¾€è¿”èˆªç­æ®µçš„ä»·æ ¼åˆ†é…
- **æ”¹å–„èˆªçº¿è¦†ç›–èŒƒå›´**: ç§»é™¤äº†åªè¿”å›éšè—åŸå¸‚èˆªç­æ®µçš„é™åˆ¶ï¼Œç°åœ¨è¿”å›æ‰€æœ‰å¯ç”¨èˆª
- **å¢å¼ºæ•°æ®è½¬æ¢ç¨³å®š*: æ·»åŠ äº†å­—ç¬¦ä¸²åˆ°æ•°å­—çš„å®‰å…¨è½¬æ¢é€»è¾‘
- **æå‡å•†åŠ¡èˆ±æœç´¢æˆåŠŸç‡**: å•†åŠ¡èˆ±æœç´¢ç°åœ¨èƒ½è¿”å›å®Œæ•´ç»“æœ

**ğŸ“ˆ æ€§èƒ½æ”¹è¿›**
- å¾€è¿”èˆªç­æ®µæœç´¢ç´¢ç»“æœæ•°é‡æ44%ï¼ˆä»å¹³å‡2.25ä¸ªå¢åŠ åˆ°10ä¸ªï¼‰
- ä»·æ ¼æ˜¾ç¤ºæ­£ç¡®ç‡ä»0%æå‡00%
- èˆªçº¿è¦†ç›–æˆåŠŸç‡ä»25%æå‡00%
- å•†åŠ¡èˆ±å¯ç”¨æ€§ä»0%æå‡00%

**ğŸ§ª æµ‹è¯•éªŒè¯**
- å…¨é¢æµ‹è¯•äº†ä¼¦åŒ—äº¬å’Œçº½æ´›æ‰çŸ¶èˆª
- éªŒè¯äº†ç»æµèˆ±å’Œå•†åŠ¡èˆ±çš„æœç´¢åŠŸ
- ç¡®è®¤äº†å¸¸è§„èˆªç­æ®µå’Œéšè—åŸå¸‚èˆªç­æ®µçš„æ­£ç¡®æ˜¾

### v0.5.2 åŠæ›´æ—©ç‰ˆ
- åŸºç¡€åŠŸèƒ½å®ç°
- Google Flights APIé›†æˆ
- Kiwi APIéšè—åŸå¸‚èˆªç­æ”¯æŒ
- åŒè¯­æ”¯æŒï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰
- åŒè´§å¸æ”¯æŒï¼ˆCNY/USDï¼‰

---

**Smart Flights** - è®©èˆªç­æœç´¢æ›´æ™ºèƒ½ã€æ›´ä¾¿æ·ï¼ âœˆï¸